# Fixing Twitter OAuth Localhost Issue

## Problem

Twitter OAuth 1.0a –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `localhost` –≤ callback URL –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ç–∏–ø–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

## –†–µ—à–µ–Ω–∏—è (–ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ –ø–æ—Ä—è–¥–∫—É)

### ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 127.0.0.1 (–£–ñ–ï –ü–†–ò–ú–ï–ù–ï–ù–û)

–Ø —É–∂–µ –∏–∑–º–µ–Ω–∏–ª `.env` —Ñ–∞–π–ª:
- –ë—ã–ª–æ: `http://localhost:8080/auth/callback`
- –°—Ç–∞–ª–æ: `http://127.0.0.1:8080/auth/callback`

**–¢–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–∏—Ç–µ Twitter Developer Portal:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://developer.twitter.com/en/portal/dashboard
2. –í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí Settings ‚Üí User authentication settings ‚Üí Edit
3. –ò–∑–º–µ–Ω–∏—Ç–µ:
   - **Callback URL:** `http://127.0.0.1:8080/auth/callback`
   - **Website URL:** `http://127.0.0.1:8080`
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

**–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:**
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—É—â–∏–π (Ctrl+C)
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ:
go run cmd/main.go
```

**–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ:**
–û—Ç–∫—Ä–æ–π—Ç–µ: `http://127.0.0.1:8080/auth/login`

---

### üîÑ –†–µ—à–µ–Ω–∏–µ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ngrok (–µ—Å–ª–∏ 127.0.0.1 –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

Ngrok —Å–æ–∑–¥–∞–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π URL –¥–ª—è –≤–∞—à–µ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.

**–®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ngrok**

```powershell
# –ß–µ—Ä–µ–∑ winget
winget install ngrok

# –ò–ª–∏ —Å–∫–∞—á–∞—Ç—å —Å https://ngrok.com/download
```

**–®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å ngrok**

```bash
ngrok http 8080
```

–í—ã –ø–æ–ª—É—á–∏—Ç–µ URL –≤–∏–¥–∞: `https://xxxx-xx-xx-xx-xx.ngrok-free.app`

**–®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**

–í Twitter Developer Portal:
- **Callback URL:** `https://xxxx-xx-xx-xx-xx.ngrok-free.app/auth/callback`
- **Website URL:** `https://xxxx-xx-xx-xx-xx.ngrok-free.app`

–í `.env` —Ñ–∞–π–ª–µ:
```env
TWITTER_CALLBACK_URL=https://xxxx-xx-xx-xx-xx.ngrok-free.app/auth/callback
```

**–®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å**

–¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok URL: `https://xxxx-xx-xx-xx-xx.ngrok-free.app/auth/login`

---

### üåê –†–µ—à–µ–Ω–∏–µ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω

–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ hosts —Ñ–∞–π–ª:

**–®–∞–≥ 1: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å hosts**

```powershell
# –û—Ç–∫—Ä—ã—Ç—å hosts —Ñ–∞–π–ª (–Ω—É–∂–Ω—ã –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)
notepad C:\Windows\System32\drivers\etc\hosts
```

**–®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É**

```
127.0.0.1    myapp.local
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª.

**–®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**

–í Twitter Developer Portal:
- **Callback URL:** `http://myapp.local:8080/auth/callback`
- **Website URL:** `http://myapp.local:8080`

–í `.env`:
```env
TWITTER_CALLBACK_URL=http://myapp.local:8080/auth/callback
```

**–®–∞–≥ 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π URL**

–û—Ç–∫—Ä–æ–π—Ç–µ: `http://myapp.local:8080/auth/login`

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤ —Ç–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ:**

1. ‚úÖ **127.0.0.1** (—Å–∞–º–æ–µ –ø—Ä–æ—Å—Ç–æ–µ, —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
2. üîÑ **ngrok** (–µ—Å–ª–∏ 127.0.0.1 –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
3. üåê **–ª–æ–∫–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ)

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

**–í Twitter Developer Portal –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- App Type: **Web App, Automated App or Bot**
- OAuth Version: **1.0a**
- Callback URL: `http://127.0.0.1:8080/auth/callback`
- Website URL: `http://127.0.0.1:8080`

**–í –≤–∞—à–µ–º `.env` —Ñ–∞–π–ª–µ:**
```env
TWITTER_CALLBACK_URL=http://127.0.0.1:8080/auth/callback
```

---

## –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Twitter Developer Portal
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä Go
3. –û—Ç–∫—Ä–æ–π—Ç–µ: `http://127.0.0.1:8080/auth/login`
4. –î–æ–ª–∂–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ Twitter –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
