2026/01/27 18:30:05 Database connection established successfully

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[6.001ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[18.919ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[2.217ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[11.332ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[8.230ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[1.161ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[3.288ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[2.766ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:05 Warning: migration issue for *models.User: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[1.104ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[5.692ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[6.998ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[8.001ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[1.002ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[3.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[1.000ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:05 Warning: migration issue for *models.InviteCode: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[1.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[4.001ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[7.000ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[7.000ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[1.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[2.002ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[0.000ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:05 Warning: migration issue for *models.Market: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[1.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[5.000ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.999ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[6.999ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[7.001ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[1.001ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[2.004ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[0.000ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:05 Warning: migration issue for *models.MarketEvent: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.997ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'orders' AND table_type = 'BASE TABLE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[5.000ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'orders'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[2.002ms] [34;1m[rows:-][0m SELECT * FROM "orders" LIMIT 5

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[6.997ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'orders' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[14.769ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'orders'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[1.032ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'orders'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[2.207ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'orders' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[2.815ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'orders' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.553ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'orders' AND column_name = 'market_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.532ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'orders' AND column_name = 'market_event_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.573ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'orders' AND column_name = 'order_type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.526ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'orders' AND column_name = 'quantity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.566ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'orders' AND column_name = 'price') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[1.081ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'orders' AND column_name = 'total_cost') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'orders' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.527ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'orders' AND column_name = 'filled_quantity') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.521ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'orders' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.538ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'orders' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[1.076ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[9.278ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[9.669ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[8.056ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.593ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[0.032ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:05 Warning: migration issue for *models.Transaction: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.533ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[1.653ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[2.734ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[2.236ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:46
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[0.546ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:05 Warning: migration issue for *models.UserProposal: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.066ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[2.644ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[2.701ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.538ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.575ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[0.524ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:05 Warning: migration issue for *models.ReferralCode: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.532ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[2.628ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.532ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[2.656ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[3.748ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.532ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.533ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[0.523ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:05 Warning: migration issue for *models.Referral: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND table_type = 'BASE TABLE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.557ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.097ms] [34;1m[rows:-][0m SELECT * FROM "referral_codes" LIMIT 5

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.064ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.097ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_codes'

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.536ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.025ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.534ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.535ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:05 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[5.230ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.070ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_code' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.533ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.591ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[3.210ms] [34;1m[rows:-][0m SELECT * FROM "referrals" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.074ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[2.197ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.538ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.135ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.092ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.532ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referral_code_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.506ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.108ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.546ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referred_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.073ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referral_code_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.538ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.096ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[2.216ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[2.203ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.519ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.551ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[0.018ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:06 Warning: migration issue for *models.ReferralRebate: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.541ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.088ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referral_codes" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.520ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.569ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.529ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.522ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.827ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.532ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.582ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.521ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.853ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_code' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.738ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.535ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referrals" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.541ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.161ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.725ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.527ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.521ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referral_code_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.508ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.522ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referred_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referral_code_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.518ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.518ms] [34;1m[rows:-][0m SELECT * FROM "referral_rebates" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.526ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.518ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.715ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.519ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.524ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'trade_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.519ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_percentage') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.525ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'paid_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.991ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_status' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.000ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[2.002ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.536ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.805ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[0.000ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:06 Warning: migration issue for *models.SocialShare: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.517ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referral_codes" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.000ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.000ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.002ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.001ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.997ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_code' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.003ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referrals" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.999ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.003ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.997ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referral_code_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.002ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referred_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referral_code_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.998ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referral_rebates" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.001ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.998ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.002ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.998ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'trade_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.001ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_percentage') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.002ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'paid_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.999ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_status' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.999ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[1.001ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[2.001ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[2.998ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:61
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[1.001ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:06 Warning: migration issue for *models.ReferralStats: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[2.000ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referral_codes" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.866ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.520ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.527ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.577ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.582ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.540ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.621ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.741ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_code' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.624ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.547ms] [34;1m[rows:-][0m SELECT * FROM "referrals" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.206ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.116ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.531ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.533ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.048ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referral_code_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.526ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.066ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.549ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referred_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referral_code_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.530ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.627ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.521ms] [34;1m[rows:-][0m SELECT * FROM "referral_rebates" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.534ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.108ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.526ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.828ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'trade_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_percentage') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.796ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.535ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.794ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'paid_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.600ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_status' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.524ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.999ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[2.000ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[3.277ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.012ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.551ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[0.000ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:06 Warning: migration issue for *models.AdminUser: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.568ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.036ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referral_codes" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.998ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.000ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.002ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.998ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_code' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[2.002ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referrals" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.998ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.002ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.999ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referral_code_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.003ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referred_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referral_code_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.993ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.002ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.999ms] [34;1m[rows:-][0m SELECT * FROM "referral_rebates" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.998ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.000ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.003ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.998ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'trade_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.002ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_percentage') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'paid_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.002ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_status' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.999ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[2.000ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[2.999ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[0.999ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:06 Warning: migration issue for *models.Contest: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.001ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referral_codes" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.999ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.997ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.021ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_code' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.980ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referrals" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.001ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.998ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referral_code_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.994ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referred_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referral_code_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.001ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referral_rebates" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.998ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.003ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.997ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'trade_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_percentage') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'paid_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_status' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[2.496ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.543ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[2.029ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[2.519ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.528ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[0.000ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:06 Warning: migration issue for *models.ContestParticipant: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.520ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referral_codes" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.000ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.000ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.999ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_code' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.566ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referrals" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.649ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.097ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.573ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.536ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.530ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.541ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referral_code_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.525ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.561ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.526ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referred_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referral_code_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.136ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referral_rebates" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.093ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.624ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.516ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.522ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.530ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'trade_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.526ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_percentage') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.522ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.563ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.559ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'paid_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.539ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.520ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_status' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.525ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[2.156ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[2.725ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[2.108ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.523ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[0.000ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:06 Warning: migration issue for *models.ContestLeaderboardSnapshot: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.561ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'platform_stats' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.031ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'platform_stats'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.995ms] [34;1m[rows:-][0m SELECT * FROM "platform_stats" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.002ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'platform_stats' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.998ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'platform_stats'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'platform_stats'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.591ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'platform_stats' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'platform_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'platform_stats' AND column_name = 'date') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'platform_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.516ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'platform_stats' AND column_name = 'total_users') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'platform_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'platform_stats' AND column_name = 'active_users') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'platform_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.584ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'platform_stats' AND column_name = 'total_trades') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'platform_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'platform_stats' AND column_name = 'total_volume') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'platform_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.018ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'platform_stats' AND column_name = 'total_markets') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'platform_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.588ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'platform_stats' AND column_name = 'active_markets') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'platform_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'platform_stats' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'platform_stats' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.587ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'platform_stats' AND indexname = 'idx_platform_stats_date' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.519ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referral_codes" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.530ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.524ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.515ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.527ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.517ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.525ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.527ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_code' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.014ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.109ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.526ms] [34;1m[rows:-][0m SELECT * FROM "referrals" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.097ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.096ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.519ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.537ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referral_code_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.543ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.508ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referred_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referral_code_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.293ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referral_rebates" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.130ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.091ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.568ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.526ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.530ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'trade_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.528ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_percentage') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.565ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.544ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'paid_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_status' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.548ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.603ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.508ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[2.242ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[2.284ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.538ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[0.549ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:06 Warning: migration issue for *models.AdminLog: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.530ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.573ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referral_rebates" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.089ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.096ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.564ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.644ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.540ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.572ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'trade_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_percentage') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.546ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.536ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.031ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'paid_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.531ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_status' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.532ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.549ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.968ms] [34;1m[rows:-][0m SELECT * FROM "referral_codes" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.000ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.003ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.997ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_code' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.998ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referrals" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.004ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.998ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referral_code_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.002ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referred_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.997ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referral_code_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.001ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[1.001ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[2.695ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[2.035ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:78
[0m[33m[0.518ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[0.000ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:06 Warning: migration issue for *models.UserRestriction: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.531ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.516ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referral_codes" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.517ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.938ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.558ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.536ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.508ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.050ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.010ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_code' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.596ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.525ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referrals" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.527ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.999ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.001ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referral_code_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.999ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referred_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referral_code_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.001ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.000ms] [34;1m[rows:-][0m SELECT * FROM "referral_rebates" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.999ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.000ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.999ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'trade_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.004ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_percentage') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.999ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'paid_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_status' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.999ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.016ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.982ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.998ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[2.687ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.523ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[0.518ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:06 Warning: migration issue for *models.WalletConnection: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.586ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.408ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.526ms] [34;1m[rows:-][0m SELECT * FROM "referral_codes" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.551ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.523ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.289ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.757ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.678ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.524ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.562ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_code' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.517ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referrals" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.613ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.076ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.571ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.538ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referral_code_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.541ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.537ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.538ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referred_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.505ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referral_code_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.633ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referral_rebates" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.067ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.593ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.532ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.018ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'trade_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.523ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_percentage') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.530ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'paid_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.538ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.538ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_status' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.524ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.064ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.027ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[2.181ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[2.118ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.573ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[0.000ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:06 Warning: migration issue for *models.EscrowTransaction: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.523ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.051ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.522ms] [34;1m[rows:-][0m SELECT * FROM "referral_codes" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.120ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.066ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_codes'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.535ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.563ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'code') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.507ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.530ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_codes' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_codes' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_codes' AND indexname = 'idx_referral_codes_code' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.516ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.998ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referrals" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.999ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.003ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referrals'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.997ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.999ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referral_code_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referrals' AND column_name = 'referred_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referrals' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.002ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referred_user_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referrals' AND indexname = 'idx_referrals_referral_code_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[2.998ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "referral_rebates" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[2.001ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.513ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'referral_rebates'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.002ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referrer_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'referred_user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.999ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'trade_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_percentage') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'rebate_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'referral_rebates' AND column_name = 'paid_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'referral_rebates' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_referrer_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'referral_rebates' AND indexname = 'idx_referral_rebates_status' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[2.000ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[2.999ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[3.000ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [31;1m [35;1mÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)
[0m[33m[0.000ms] [34;1m[rows:0][0m ALTER TABLE "users" DROP CONSTRAINT "uni_users_x_username"
2026/01/27 18:30:06 Warning: migration issue for *models.DuelEscrowHold: ÐžÐ¨Ð˜Ð‘ÐšÐ: Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ "uni_users_x_username" Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ "users" Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ (SQLSTATE 42704)

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'token_config' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.002ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.998ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'token_config'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.002ms] [34;1m[rows:-][0m SELECT * FROM "token_config" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.000ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'token_config' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.999ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'token_config'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'token_config'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.003ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'token_config' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'token_config' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'token_config' AND column_name = 'token_symbol') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'token_config' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'token_config' AND column_name = 'token_mint_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'token_config' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'token_config' AND column_name = 'escrow_contract_address') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'token_config' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[1.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'token_config' AND column_name = 'decimals') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'token_config' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'token_config' AND column_name = 'is_active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'token_config' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'token_config' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'token_config' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:92
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'token_config' AND indexname = 'idx_token_config_token_symbol' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.999ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duels' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.999ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'duels'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[4.003ms] [34;1m[rows:-][0m SELECT * FROM "duels" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[1.998ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'duels' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[1.000ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'duels'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.998ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'duels'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duels' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duels' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duels' AND column_name = 'duel_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duels' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[1.002ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duels' AND column_name = 'player1_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duels' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duels' AND column_name = 'player2_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duels' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duels' AND column_name = 'bet_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duels' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duels' AND column_name = 'player1_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duels' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.998ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duels' AND column_name = 'player2_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duels' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duels' AND column_name = 'market_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duels' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duels' AND column_name = 'event_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duels' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duels' AND column_name = 'predicted_outcome') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duels' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duels' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duels' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.999ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duels' AND column_name = 'winner_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duels' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duels' AND column_name = 'escrow_tx_hash') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duels' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duels' AND column_name = 'resolution_tx_hash') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duels' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[1.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duels' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duels' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duels' AND column_name = 'started_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duels' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[1.005ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duels' AND column_name = 'resolved_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duels' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duels' AND column_name = 'expires_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duels' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'duels' AND indexname = 'idx_duels_duel_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.996ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'duels' AND indexname = 'idx_duels_player1_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'duels' AND indexname = 'idx_duels_player2_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'duels' AND indexname = 'idx_duels_market_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'duels' AND indexname = 'idx_duels_event_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'duels' AND indexname = 'idx_duels_status' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[1.001ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_transactions' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.998ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'duel_transactions'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[2.001ms] [34;1m[rows:-][0m SELECT * FROM "duel_transactions" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.525ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'duel_transactions' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.516ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'duel_transactions'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'duel_transactions'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.680ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_transactions' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_transactions' AND column_name = 'duel_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.621ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_transactions' AND column_name = 'transaction_type') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_transactions' AND column_name = 'player_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.513ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_transactions' AND column_name = 'amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_transactions' AND column_name = 'tx_hash') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.526ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_transactions' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_transactions' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_transactions' AND column_name = 'confirmed_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_transactions' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'duel_transactions' AND indexname = 'idx_duel_transactions_duel_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'duel_transactions' AND indexname = 'idx_duel_transactions_player_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'duel_transactions' AND indexname = 'idx_duel_transactions_status' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.194ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_queue' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[1.592ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'duel_queue'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[2.714ms] [34;1m[rows:-][0m SELECT * FROM "duel_queue" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.527ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'duel_queue' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[1.154ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'duel_queue'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'duel_queue'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.528ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_queue' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_queue' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.517ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_queue' AND column_name = 'player_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_queue' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_queue' AND column_name = 'bet_amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_queue' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.534ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_queue' AND column_name = 'market_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_queue' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_queue' AND column_name = 'event_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_queue' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.535ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_queue' AND column_name = 'predicted_outcome') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_queue' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_queue' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_queue' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.525ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_queue' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_queue' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_queue' AND column_name = 'matched_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_queue' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.540ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'duel_queue' AND indexname = 'idx_duel_queue_player_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'duel_queue' AND indexname = 'idx_duel_queue_bet_amount' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.528ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'duel_queue' AND indexname = 'idx_duel_queue_market_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'duel_queue' AND indexname = 'idx_duel_queue_event_id' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.526ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'duel_queue' AND indexname = 'idx_duel_queue_status' AND schemaname = CURRENT_SCHEMA()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_statistics' AND table_type = 'BASE TABLE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.527ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[1.054ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'prediction_market' AND table_schema = CURRENT_SCHEMA() AND table_name = 'duel_statistics'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.514ms] [34;1m[rows:-][0m SELECT * FROM "duel_statistics" LIMIT 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.515ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'duel_statistics' AND constraint_type = 'UNIQUE'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[1.121ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'prediction_market' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'duel_statistics'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'duel_statistics'

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.522ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_statistics' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_statistics' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.518ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_statistics' AND column_name = 'user_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_statistics' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_statistics' AND column_name = 'total_duels') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_statistics' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.591ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_statistics' AND column_name = 'wins') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_statistics' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_statistics' AND column_name = 'losses') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_statistics' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.561ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_statistics' AND column_name = 'total_wagered') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_statistics' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_statistics' AND column_name = 'total_won') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_statistics' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_statistics' AND column_name = 'total_lost') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_statistics' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.514ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_statistics' AND column_name = 'win_rate') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_statistics' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_statistics' AND column_name = 'avg_bet') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_statistics' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'duel_statistics' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'duel_statistics' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/database/database.go:106
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'duel_statistics' AND indexname = 'idx_duel_statistics_user_id' AND schemaname = CURRENT_SCHEMA()
2026/01/27 18:30:06 Database migrations completed successfully
2026/01/27 18:30:06 Market parser job started
[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

2026/01/27 18:30:06 Starting market parsing...
2026/01/27 18:30:06 Parsing category: Crypto
2026/01/27 18:30:06 Parsing category: Politics
2026/01/27 18:30:06 Parsing category: Sports
[GIN-debug] GET    /health                   --> main.main.func1 (4 handlers)
[GIN-debug] GET    /auth/login               --> prediction-market/internal/handlers.(*AuthHandler).Login-fm (4 handlers)
[GIN-debug] GET    /auth/callback            --> prediction-market/internal/handlers.(*AuthHandler).Callback-fm (4 handlers)
[GIN-debug] GET    /auth/logout              --> prediction-market/internal/handlers.(*AuthHandler).Logout-fm (4 handlers)
[GIN-debug] GET    /api/markets              --> prediction-market/internal/handlers.(*MarketHandler).GetMarkets-fm (4 handlers)
[GIN-debug] GET    /api/markets/:id          --> prediction-market/internal/handlers.(*MarketHandler).GetMarketByID-fm (4 handlers)
[GIN-debug] GET    /api/user/profile         --> prediction-market/internal/handlers.(*UserHandler).GetProfile-fm (5 handlers)
[GIN-debug] GET    /api/user/balance         --> prediction-market/internal/handlers.(*UserHandler).GetBalance-fm (5 handlers)
[GIN-debug] GET    /api/user/invite-codes    --> prediction-market/internal/handlers.(*UserHandler).GetInviteCodes-fm (5 handlers)
[GIN-debug] GET    /api/user/referrals       --> prediction-market/internal/handlers.(*UserHandler).GetReferrals-fm (5 handlers)
[GIN-debug] POST   /api/orders               --> prediction-market/internal/handlers.(*TradingHandler).PlaceOrder-fm (5 handlers)
[GIN-debug] DELETE /api/orders/:id           --> prediction-market/internal/handlers.(*TradingHandler).CancelOrder-fm (5 handlers)
[GIN-debug] GET    /api/orders               --> prediction-market/internal/handlers.(*TradingHandler).GetUserOrders-fm (5 handlers)
[GIN-debug] POST   /api/markets              --> prediction-market/internal/handlers.(*MarketHandler).CreateMarket-fm (5 handlers)
[GIN-debug] POST   /api/markets/propose      --> prediction-market/internal/handlers.(*MarketHandler).ProposeMarket-fm (5 handlers)
[GIN-debug] GET    /api/markets/proposals/pending --> prediction-market/internal/handlers.(*MarketHandler).GetPendingProposals-fm (5 handlers)
[GIN-debug] POST   /api/markets/proposals/:id/moderate --> prediction-market/internal/handlers.(*MarketHandler).ModerateProposal-fm (5 handlers)
[GIN-debug] GET    /api/trading/portfolio/:market_id --> prediction-market/internal/handlers.(*TradingHandler).GetUserPortfolio-fm (5 handlers)
[GIN-debug] GET    /api/trading/pnl/:market_id --> prediction-market/internal/handlers.(*TradingHandler).GetUserPnL-fm (5 handlers)
[GIN-debug] POST   /api/markets/:id/resolve  --> prediction-market/internal/handlers.(*MarketHandler).ResolveMarket-fm (5 handlers)
[GIN-debug] GET    /api/referral/code        --> prediction-market/internal/handlers.(*ReferralHandler).GetReferralCode-fm (5 handlers)
[GIN-debug] POST   /api/referral/apply       --> prediction-market/internal/handlers.(*ReferralHandler).ApplyReferralCode-fm (5 handlers)
[GIN-debug] GET    /api/referral/stats       --> prediction-market/internal/handlers.(*ReferralHandler).GetReferralStats-fm (5 handlers)
[GIN-debug] GET    /api/referral/referrals   --> prediction-market/internal/handlers.(*ReferralHandler).GetReferrals-fm (5 handlers)
[GIN-debug] GET    /api/referral/rebates     --> prediction-market/internal/handlers.(*ReferralHandler).GetReferralRebates-fm (5 handlers)
[GIN-debug] POST   /api/social/share/twitter --> prediction-market/internal/handlers.(*ReferralHandler).ShareWinOnTwitter-fm (5 handlers)
[GIN-debug] GET    /api/social/shares        --> prediction-market/internal/handlers.(*ReferralHandler).GetSocialShares-fm (5 handlers)
[GIN-debug] GET    /api/contests             --> prediction-market/internal/handlers.(*AdminHandler).GetActiveContests-fm (5 handlers)
[GIN-debug] POST   /api/contests/:id/join    --> prediction-market/internal/handlers.(*AdminHandler).JoinContest-fm (5 handlers)
[GIN-debug] GET    /api/contests/:id/leaderboard --> prediction-market/internal/handlers.(*AdminHandler).GetContestLeaderboard-fm (5 handlers)
[GIN-debug] POST   /api/wallet/connect       --> prediction-market/internal/handlers.(*BlockchainHandler).ConnectWallet-fm (5 handlers)
[GIN-debug] DELETE /api/wallet/disconnect    --> prediction-market/internal/handlers.(*BlockchainHandler).DisconnectWallet-fm (5 handlers)
[GIN-debug] GET    /api/wallet               --> prediction-market/internal/handlers.(*BlockchainHandler).GetWalletConnection-fm (5 handlers)
[GIN-debug] POST   /api/wallet/refresh       --> prediction-market/internal/handlers.(*BlockchainHandler).RefreshWalletBalance-fm (5 handlers)
[GIN-debug] GET    /api/wallet/balances      --> prediction-market/internal/handlers.(*BlockchainHandler).GetUserBalances-fm (5 handlers)
[GIN-debug] GET    /api/escrow/balance       --> prediction-market/internal/handlers.(*BlockchainHandler).GetEscrowBalance-fm (5 handlers)
[GIN-debug] GET    /api/escrow/transactions  --> prediction-market/internal/handlers.(*BlockchainHandler).GetEscrowTransactions-fm (5 handlers)
[GIN-debug] POST   /api/escrow/lock          --> prediction-market/internal/handlers.(*BlockchainHandler).LockTokensForDuel-fm (5 handlers)
[GIN-debug] POST   /api/escrow/confirm       --> prediction-market/internal/handlers.(*BlockchainHandler).ConfirmEscrowDeposit-fm (5 handlers)
[GIN-debug] POST   /api/duels                --> prediction-market/internal/handlers.(*DuelHandler).CreateDuel-fm (5 handlers)
[GIN-debug] GET    /api/duels                --> prediction-market/internal/handlers.(*DuelHandler).GetPlayerDuels-fm (5 handlers)
[GIN-debug] GET    /api/duels/stats          --> prediction-market/internal/handlers.(*DuelHandler).GetPlayerStatistics-fm (5 handlers)
[GIN-debug] POST   /api/duels/:id/deposit    --> prediction-market/internal/handlers.(*DuelHandler).DepositToDuel-fm (5 handlers)
[GIN-debug] POST   /api/duels/:id/cancel     --> prediction-market/internal/handlers.(*DuelHandler).CancelDuel-fm (5 handlers)
[GIN-debug] GET    /api/duels/:id            --> prediction-market/internal/handlers.(*DuelHandler).GetDuel-fm (4 handlers)
[GIN-debug] GET    /api/admin/dashboard      --> prediction-market/internal/handlers.(*AdminHandler).GetDashboard-fm (6 handlers)
[GIN-debug] GET    /api/admin/stats          --> prediction-market/internal/handlers.(*AdminHandler).GetPlatformStats-fm (6 handlers)
[GIN-debug] GET    /api/admin/logs           --> prediction-market/internal/handlers.(*AdminHandler).GetAdminLogs-fm (6 handlers)
[GIN-debug] GET    /api/admin/users          --> prediction-market/internal/handlers.(*AdminHandler).GetUsers-fm (6 handlers)
[GIN-debug] POST   /api/admin/users/restrict --> prediction-market/internal/handlers.(*AdminHandler).RestrictUser-fm (6 handlers)
[GIN-debug] DELETE /api/admin/users/restrictions/:id --> prediction-market/internal/handlers.(*AdminHandler).RemoveRestriction-fm (6 handlers)
[GIN-debug] GET    /api/admin/users/:id/restrictions --> prediction-market/internal/handlers.(*AdminHandler).GetUserRestrictions-fm (6 handlers)
[GIN-debug] POST   /api/admin/users/balance  --> prediction-market/internal/handlers.(*AdminHandler).UpdateUserBalance-fm (6 handlers)
[GIN-debug] POST   /api/admin/users/promote  --> prediction-market/internal/handlers.(*AdminHandler).PromoteToAdmin-fm (6 handlers)
[GIN-debug] GET    /api/admin/markets        --> prediction-market/internal/handlers.(*AdminHandler).GetMarkets-fm (6 handlers)
[GIN-debug] PUT    /api/admin/markets/:id/status --> prediction-market/internal/handlers.(*AdminHandler).UpdateMarketStatus-fm (6 handlers)
[GIN-debug] GET    /api/admin/contests       --> prediction-market/internal/handlers.(*AdminHandler).GetContests-fm (6 handlers)
[GIN-debug] POST   /api/admin/contests       --> prediction-market/internal/handlers.(*AdminHandler).CreateContest-fm (6 handlers)
[GIN-debug] GET    /api/admin/contests/:id   --> prediction-market/internal/handlers.(*AdminHandler).GetContest-fm (6 handlers)
[GIN-debug] POST   /api/admin/contests/:id/start --> prediction-market/internal/handlers.(*AdminHandler).StartContest-fm (6 handlers)
[GIN-debug] POST   /api/admin/contests/:id/end --> prediction-market/internal/handlers.(*AdminHandler).EndContest-fm (6 handlers)
[GIN-debug] POST   /api/admin/duels/:id/resolve --> prediction-market/internal/handlers.(*DuelHandler).ResolveDuel-fm (6 handlers)
[GIN-debug] GET    /api/admin/duels/active   --> prediction-market/internal/handlers.(*DuelHandler).GetActiveDuels-fm (6 handlers)
[GIN-debug] GET    /api/trading/orderbook/:market_id/:event_id --> prediction-market/internal/handlers.(*TradingHandler).GetOrderBook-fm (4 handlers)
2026/01/27 18:30:06 Server starting on port 8080
2026/01/27 18:30:06 Health check: http://localhost:8080/health
2026/01/27 18:30:06 Login URL: http://localhost:8080/auth/login

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[10.809ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will China invades Taiwan before GTA VI?' AND category = 'Politics' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[2.152ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve to "Yes" if China commences a military offensive intended to establish control over any portion of the Republic of China (Taiwan) before Grand Theft Auto VI is officially released in the US. Otherwise, this market will resolve to "No".

If neither occurs by July 31, 2026, 11:59 PM ET, this market will resolve to 50-50.

For the purposes of this market, "release" refers to the game becoming publicly available for purchase or download in the US. Early access, beta versions, other forms of pre-release availability, or leaks will not count as an official release. If the release is only for certain consoles (e.g. Xbox Series X/S) it will count.

The resolution source for the release of GTA VI is official information from Rockstar Games or its parent company, Take-Two Interactive.

An announcement of Trump''s resignation/removal, or a scheduled departure from office due to the outcome of an election will not alone qualify.

Territory under the administration of the Republic of China including any inhabited islands will qualify, however uninhabited islands will not qualify.

The resolution source for China invading Taiwan will be will be official confirmation by China, Taiwan, the United Nations, or any permanent member of the UN Security Council, however a consensus of credible reporting will also be use
',"status"='active' WHERE "id" = 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.541ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will tariffs generate >$250b in 2025?' AND category = 'Politics' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[1.063ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='The U.S. government collected $82.2b in customs duties in FY 2025 (See: https://www.fiscal.treasury.gov/files/reports-statements/financial-report/2024/notes-to-the-financial-statements19.pdf).

This market will resolve to "Yes"  if the value of costumes duties collected in FY 2025 according to the Financial Report of the United States Government published by the Treasury Department for FY 2025 (See: https://www.fiscal.treasury.gov/reports-statements/financial-report/) is greater than $250b. Otherwise this market will resolve to "No". 

If the Treasury Department does not publish relevant data  for FY 2025 by February 28, 2026, 11:59 PM ET, this market will resolve to "No". 

The resolution source will be the Treasury Department.
',"status"='active' WHERE "id" = 2

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.541ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will the New England Patriots win Super Bowl 2026?' AND category = 'Crypto' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.534ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve to "Yes" if the New England Patriots win Super Bowl LX. Otherwise, this market will resolve to "No".

If at any point it becomes impossible for this team to win the Super Bowl based on the rules of the NFL (e.g. they are eliminated in the playoff bracket), this market will resolve immediately to "No".',"status"='active' WHERE "id" = 4

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.538ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will the Seattle Seahawks win Super Bowl 2026?' AND category = 'Crypto' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.536ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve to "Yes" if the Seattle Seahawks win Super Bowl LX. Otherwise, this market will resolve to "No".

If at any point it becomes impossible for this team to win the Super Bowl based on the rules of the NFL (e.g. they are eliminated in the playoff bracket), this market will resolve immediately to "No".',"status"='active' WHERE "id" = 7

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.017ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will Trump deport 250,000-500,000 people?' AND category = 'Politics' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[1.067ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='During the 2024 FY ICE removed 271,484 non citizens (see: https://www.ice.gov/doclib/eoy/iceAnnualReportFY2024.pdf).

This market will resolve to "Yes" if U.S. Immigration and Customs Enforcement (ICE) removes between 250,000 (inclusive) and 500,000 (exclusive) non citizens in the 2025 fiscal year. Otherwise, this market ill resolve to "No".

The resolution source will be the FY 2025 ICE Annual Report. If the FY 2025 ICE Annual Report is not published by February 28, 2026, 11:59 PM ET, another credible resolution source will be used. ',"status"='active' WHERE "id" = 5

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will the New England Patriots win Super Bowl 2026?' AND category = 'Sports' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[1.063ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve to "Yes" if the New England Patriots win Super Bowl LX. Otherwise, this market will resolve to "No".

If at any point it becomes impossible for this team to win the Super Bowl based on the rules of the NFL (e.g. they are eliminated in the playoff bracket), this market will resolve immediately to "No".',"status"='active' WHERE "id" = 3

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will Jesus Christ return before GTA VI?' AND category = 'Crypto' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[1.069ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve to "Yes" if The Second Coming of Jesus Christ occurs before Grand Theft Auto VI is officially released in the US. Otherwise, this market will resolve to "No".

If neither occurs by July 31, 2026, 11:59 PM ET, this market will resolve to 50-50.

For the purposes of this market, "release" refers to the game becoming publicly available for purchase or download in the US. Early access, beta versions, other forms of pre-release availability, or leaks will not count as an official release. If the release is only for certain consoles (e.g. Xbox Series X/S) it will count.

The resolution source for the release of GTA VI is official information from Rockstar Games or its parent company, Take-Two Interactive.

The resolution source for the return of Jesus will be a consensus of credible sources.',"status"='active' WHERE "id" = 10

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will Trump deport less than 250,000?' AND category = 'Politics' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[1.093ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='During the 2024 FY ICE removed 271,484 non citizens (see: https://www.ice.gov/doclib/eoy/iceAnnualReportFY2024.pdf).

This market will resolve to "Yes" if U.S. Immigration and Customs Enforcement (ICE) removes less than 250,000 non citizens in the 2025 fiscal year. Otherwise, this market ill resolve to "No".

The resolution source will be the FY 2025 ICE Annual Report. If the FY 2025 ICE Annual Report is not published by February 28, 2026, 11:59 PM ET, another credible resolution source will be used. ',"status"='active' WHERE "id" = 8

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will the Seattle Seahawks win Super Bowl 2026?' AND category = 'Sports' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.530ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve to "Yes" if the Seattle Seahawks win Super Bowl LX. Otherwise, this market will resolve to "No".

If at any point it becomes impossible for this team to win the Super Bowl based on the rules of the NFL (e.g. they are eliminated in the playoff bracket), this market will resolve immediately to "No".',"status"='active' WHERE "id" = 6

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.532ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will bitcoin hit $1m before GTA VI?' AND category = 'Crypto' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.538ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve to "Yes" if any Binance 1 minute candle for Bitcoin (BTCUSDT) has a final "High" price of $1,000,000 or higher before Grand Theft Auto VI is officially released in the US. Otherwise, this market will resolve to "No".

If neither occurs by July 31, 2026, 11:59 PM ET, this market will resolve to 50-50.

For the purposes of this market, "release" refers to the game becoming publicly available for purchase or download in the US. Early access, beta versions, other forms of pre-release availability, or leaks will not count as an official release. If the release is only for certain consoles (e.g. Xbox Series X/S) it will count.

The resolution source for the release of GTA VI is official information from Rockstar Games or its parent company, Take-Two Interactive.

The resolution source for Bitcoin is Binance, specifically the BTCUSDT "High" prices available at https://www.binance.com/en/trade/BTC_USDT, with the chart settings on "1m" for one-minute candles selected on the top bar.

Please note that the outcome of this market depends solely on the price data from the Binance BTCUSDT trading pair. Prices from other exchanges, different trading pairs, or spot markets will not be considered for the resolution of this market.',"status"='active' WHERE "id" = 13

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.021ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will the U.S. collect less than $100b in revenue in 2025?' AND category = 'Politics' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.522ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='The U.S. government collected $82.2b in customs duties in FY 2025 (See: https://www.fiscal.treasury.gov/files/reports-statements/financial-report/2024/notes-to-the-financial-statements19.pdf).

This market will resolve according to the value of customs duties collected in FY 2025 according to the Financial Report of the United States Government published by the Treasury Department for FY 2025 (See: https://www.fiscal.treasury.gov/reports-statements/financial-report/)

If the Treasury Department does not publish relevant data for FY 2025 by February 28, 2026, 11:59 PM ET, this market will resolve to the lowest bracket. 

The resolution source will be the Treasury Department.',"status"='active' WHERE "id" = 11

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will Jesus Christ return before GTA VI?' AND category = 'Sports' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.539ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve to "Yes" if The Second Coming of Jesus Christ occurs before Grand Theft Auto VI is officially released in the US. Otherwise, this market will resolve to "No".

If neither occurs by July 31, 2026, 11:59 PM ET, this market will resolve to 50-50.

For the purposes of this market, "release" refers to the game becoming publicly available for purchase or download in the US. Early access, beta versions, other forms of pre-release availability, or leaks will not count as an official release. If the release is only for certain consoles (e.g. Xbox Series X/S) it will count.

The resolution source for the release of GTA VI is official information from Rockstar Games or its parent company, Take-Two Interactive.

The resolution source for the return of Jesus will be a consensus of credible sources.',"status"='active' WHERE "id" = 9

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.556ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will GTA 6 cost $100+?' AND category = 'Crypto' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.519ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve to "Yes" if the standard edition of Grand Theft Auto VI (GTA 6) launches at $100.00 or more. Otherwise, this market will resolve to "No".

This market will resolve based on the pre-tax launch price in USD of the standard edition of GTA 6 on Xbox or PlayStation as listed on the Microsoft Store or PlayStation Store on the first official day of its release in the United States.

If the price differs between the Microsoft and PlayStation stores, this market will resolve according to the lower price.

This market will resolve based on the lowest price version that includes the full standard game with no DLC, etc.

If GTA 6 is not released by February 28, 2026, this market will resolve to "No".

The primary resolution source for this market will be the Microsoft Store/PlayStation Store, however a consensus of credible reporting will also be used.',"status"='active' WHERE "id" = 16

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will the U.S. collect between $100b and $200b in revenue in 2025?' AND category = 'Politics' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.654ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='The U.S. government collected $82.2b in customs duties in FY 2025 (See: https://www.fiscal.treasury.gov/files/reports-statements/financial-report/2024/notes-to-the-financial-statements19.pdf).

This market will resolve according to the value of customs duties collected in FY 2025 according to the Financial Report of the United States Government published by the Treasury Department for FY 2025 (See: https://www.fiscal.treasury.gov/reports-statements/financial-report/)

If the Treasury Department does not publish relevant data for FY 2025 by February 28, 2026, 11:59 PM ET, this market will resolve to the lowest bracket. 

The resolution source will be the Treasury Department.',"status"='active' WHERE "id" = 14

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.536ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will bitcoin hit $1m before GTA VI?' AND category = 'Sports' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.524ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve to "Yes" if any Binance 1 minute candle for Bitcoin (BTCUSDT) has a final "High" price of $1,000,000 or higher before Grand Theft Auto VI is officially released in the US. Otherwise, this market will resolve to "No".

If neither occurs by July 31, 2026, 11:59 PM ET, this market will resolve to 50-50.

For the purposes of this market, "release" refers to the game becoming publicly available for purchase or download in the US. Early access, beta versions, other forms of pre-release availability, or leaks will not count as an official release. If the release is only for certain consoles (e.g. Xbox Series X/S) it will count.

The resolution source for the release of GTA VI is official information from Rockstar Games or its parent company, Take-Two Interactive.

The resolution source for Bitcoin is Binance, specifically the BTCUSDT "High" prices available at https://www.binance.com/en/trade/BTC_USDT, with the chart settings on "1m" for one-minute candles selected on the top bar.

Please note that the outcome of this market depends solely on the price data from the Binance BTCUSDT trading pair. Prices from other exchanges, different trading pairs, or spot markets will not be considered for the resolution of this market.',"status"='active' WHERE "id" = 12

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Russia-Ukraine Ceasefire before GTA VI?' AND category = 'Crypto' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.531ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve to "Yes" if  if there is an official ceasefire agreement, defined as a publicly announced and mutually agreed halt in military engagement, between Russia and Ukraine before Grand Theft Auto VI is officially released in the US. Otherwise, this market will resolve to "No".

If neither occurs by July 31, 2026, 11:59 PM ET, this market will resolve to 50-50.

For the purposes of this market, "release" refers to the game becoming publicly available for purchase or download in the US. Early access, beta versions, other forms of pre-release availability, or leaks will not count as an official release. If the release is only for certain consoles (e.g. Xbox Series X/S) it will count.

The resolution source for the release of GTA VI is official information from Rockstar Games or its parent company, Take-Two Interactive.

Only ceasefires which constitute a general pause in the conflict will qualify. Ceasefires which only apply to energy infrastructure, the Black Sea, or other similar agreements will not qualify.

Any form of informal agreement will not be considered an official ceasefire. Humanitarian pauses will not count toward the resolution of this market.

The resolution for a ceasefire will be based on official announcements from both Russia and Ukraine; however, a wide consensus of credible media reporting stating an official ceasefire agreement between Russia and Ukraine has been reached will suffice.
',"status"='active' WHERE "id" = 19

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will Trump deport 750,000 or more people in 2025?' AND category = 'Politics' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.528ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='During the 2024 FY ICE removed 271,484 non citizens (see: https://www.ice.gov/doclib/eoy/iceAnnualReportFY2024.pdf).

This market will resolve to "Yes" if U.S. Immigration and Customs Enforcement (ICE) removes 750,000 or more non citizens in the 2025 fiscal year. Otherwise, this market ill resolve to "No".

The resolution source will be the FY 2025 ICE Annual Report. If the FY 2025 ICE Annual Report is not published by February 28, 2026, 11:59 PM ET, another credible resolution source will be used. ',"status"='active' WHERE "id" = 17

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.522ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will GTA 6 cost $100+?' AND category = 'Sports' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.000ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve to "Yes" if the standard edition of Grand Theft Auto VI (GTA 6) launches at $100.00 or more. Otherwise, this market will resolve to "No".

This market will resolve based on the pre-tax launch price in USD of the standard edition of GTA 6 on Xbox or PlayStation as listed on the Microsoft Store or PlayStation Store on the first official day of its release in the United States.

If the price differs between the Microsoft and PlayStation stores, this market will resolve according to the lower price.

This market will resolve based on the lowest price version that includes the full standard game with no DLC, etc.

If GTA 6 is not released by February 28, 2026, this market will resolve to "No".

The primary resolution source for this market will be the Microsoft Store/PlayStation Store, however a consensus of credible reporting will also be used.',"status"='active' WHERE "id" = 15

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.668ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will China invades Taiwan before GTA VI?' AND category = 'Crypto' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.000ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve to "Yes" if China commences a military offensive intended to establish control over any portion of the Republic of China (Taiwan) before Grand Theft Auto VI is officially released in the US. Otherwise, this market will resolve to "No".

If neither occurs by July 31, 2026, 11:59 PM ET, this market will resolve to 50-50.

For the purposes of this market, "release" refers to the game becoming publicly available for purchase or download in the US. Early access, beta versions, other forms of pre-release availability, or leaks will not count as an official release. If the release is only for certain consoles (e.g. Xbox Series X/S) it will count.

The resolution source for the release of GTA VI is official information from Rockstar Games or its parent company, Take-Two Interactive.

An announcement of Trump''s resignation/removal, or a scheduled departure from office due to the outcome of an election will not alone qualify.

Territory under the administration of the Republic of China including any inhabited islands will qualify, however uninhabited islands will not qualify.

The resolution source for China invading Taiwan will be will be official confirmation by China, Taiwan, the United Nations, or any permanent member of the UN Security Council, however a consensus of credible reporting will also be use
',"status"='active' WHERE "id" = 22

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.611ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will Elon and DOGE cut more than $250b in federal spending in 2025?' AND category = 'Politics' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.000ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve based on federal government current expenditures as reported by the St. Louis Federal Reserve Bank, displayed here (https://fred.stlouisfed.org/series/FGEXPND).

This market will resolve to the amount federal government current expenditures decrease by between the Q4 2024 report and the Q4 2025 report. 

If the reported value falls exactly between two brackets, then this market will resolve to the higher range bracket.

The difference will be calculated as the Q4 2024 value minus the Q4 2025 value. 

The figures will be based on the initial Q4 2024 and Q4 2025 values as reported by the St. Louis Federal Reserve Bank. Revisions made to these figures will not be considered, only the values reported in the initial reports will be used. 

The figures will be based on the Q4 2024 and Q4 2025 values as reported by the St. Louis Federal Reserve Bank as soon as the data for Q4 2025 becomes available, regardless of whether later revisions are made.

This market''s resolution source is the Federal Government: Current Expenditures chart maintained by the St. Louis Federal Reserve Bank, displayed here (https://fred.stlouisfed.org/series/FGEXPND).',"status"='active' WHERE "id" = 20

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.594ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Russia-Ukraine Ceasefire before GTA VI?' AND category = 'Sports' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.000ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve to "Yes" if  if there is an official ceasefire agreement, defined as a publicly announced and mutually agreed halt in military engagement, between Russia and Ukraine before Grand Theft Auto VI is officially released in the US. Otherwise, this market will resolve to "No".

If neither occurs by July 31, 2026, 11:59 PM ET, this market will resolve to 50-50.

For the purposes of this market, "release" refers to the game becoming publicly available for purchase or download in the US. Early access, beta versions, other forms of pre-release availability, or leaks will not count as an official release. If the release is only for certain consoles (e.g. Xbox Series X/S) it will count.

The resolution source for the release of GTA VI is official information from Rockstar Games or its parent company, Take-Two Interactive.

Only ceasefires which constitute a general pause in the conflict will qualify. Ceasefires which only apply to energy infrastructure, the Black Sea, or other similar agreements will not qualify.

Any form of informal agreement will not be considered an official ceasefire. Humanitarian pauses will not count toward the resolution of this market.

The resolution for a ceasefire will be based on official announcements from both Russia and Ukraine; however, a wide consensus of credible media reporting stating an official ceasefire agreement between Russia and Ukraine has been reached will suffice.
',"status"='active' WHERE "id" = 18

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.519ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will tariffs generate >$250b in 2025?' AND category = 'Crypto' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.506ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='The U.S. government collected $82.2b in customs duties in FY 2025 (See: https://www.fiscal.treasury.gov/files/reports-statements/financial-report/2024/notes-to-the-financial-statements19.pdf).

This market will resolve to "Yes"  if the value of costumes duties collected in FY 2025 according to the Financial Report of the United States Government published by the Treasury Department for FY 2025 (See: https://www.fiscal.treasury.gov/reports-statements/financial-report/) is greater than $250b. Otherwise this market will resolve to "No". 

If the Treasury Department does not publish relevant data  for FY 2025 by February 28, 2026, 11:59 PM ET, this market will resolve to "No". 

The resolution source will be the Treasury Department.
',"status"='active' WHERE "id" = 25

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will the U.S. collect between $200b and $500b in revenue in 2025?' AND category = 'Politics' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.718ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='The U.S. government collected $82.2b in customs duties in FY 2025 (See: https://www.fiscal.treasury.gov/files/reports-statements/financial-report/2024/notes-to-the-financial-statements19.pdf).

This market will resolve according to the value of customs duties collected in FY 2025 according to the Financial Report of the United States Government published by the Treasury Department for FY 2025 (See: https://www.fiscal.treasury.gov/reports-statements/financial-report/)

If the Treasury Department does not publish relevant data for FY 2025 by February 28, 2026, 11:59 PM ET, this market will resolve to the lowest bracket. 

The resolution source will be the Treasury Department.',"status"='active' WHERE "id" = 23

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.029ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will China invades Taiwan before GTA VI?' AND category = 'Sports' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.523ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve to "Yes" if China commences a military offensive intended to establish control over any portion of the Republic of China (Taiwan) before Grand Theft Auto VI is officially released in the US. Otherwise, this market will resolve to "No".

If neither occurs by July 31, 2026, 11:59 PM ET, this market will resolve to 50-50.

For the purposes of this market, "release" refers to the game becoming publicly available for purchase or download in the US. Early access, beta versions, other forms of pre-release availability, or leaks will not count as an official release. If the release is only for certain consoles (e.g. Xbox Series X/S) it will count.

The resolution source for the release of GTA VI is official information from Rockstar Games or its parent company, Take-Two Interactive.

An announcement of Trump''s resignation/removal, or a scheduled departure from office due to the outcome of an election will not alone qualify.

Territory under the administration of the Republic of China including any inhabited islands will qualify, however uninhabited islands will not qualify.

The resolution source for China invading Taiwan will be will be official confirmation by China, Taiwan, the United Nations, or any permanent member of the UN Security Council, however a consensus of credible reporting will also be use
',"status"='active' WHERE "id" = 21

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will Trump deport 250,000-500,000 people?' AND category = 'Crypto' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.530ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='During the 2024 FY ICE removed 271,484 non citizens (see: https://www.ice.gov/doclib/eoy/iceAnnualReportFY2024.pdf).

This market will resolve to "Yes" if U.S. Immigration and Customs Enforcement (ICE) removes between 250,000 (inclusive) and 500,000 (exclusive) non citizens in the 2025 fiscal year. Otherwise, this market ill resolve to "No".

The resolution source will be the FY 2025 ICE Annual Report. If the FY 2025 ICE Annual Report is not published by February 28, 2026, 11:59 PM ET, another credible resolution source will be used. ',"status"='active' WHERE "id" = 28

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.540ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Trump out as President before GTA VI?' AND category = 'Politics' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.508ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve to "Yes" if Donald Trump ceases to be the President of the U.S. for any period of time before Grand Theft Auto VI is officially released in the US. Otherwise, this market will resolve to "No".

If neither occurs by July 31, 2026, 11:59 PM ET, this market will resolve to 50-50.

For the purposes of this market, "release" refers to the game becoming publicly available for purchase or download in the US. Early access, beta versions, other forms of pre-release availability, or leaks will not count as an official release. If the release is only for certain consoles (e.g. Xbox Series X/S) it will count.

The resolution source for the release of GTA VI is official information from Rockstar Games or its parent company, Take-Two Interactive.

An announcement of Trump''s resignation/removal, or a scheduled departure from office due to the outcome of an election will not alone qualify.

Only permanent removal from office will qualify for resolution. Temporary removals, such as temporary invocation of the 25th Amendment, will not count.

The resolution source for Trump leaving the presidency will be a consensus of credible reporting.
',"status"='active' WHERE "id" = 26
2026/01/27 18:30:06 Successfully stored 10 markets for category Politics

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.531ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'New Rihanna Album before GTA VI?' AND category = 'Sports' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.671ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve to "Yes" if Rihanna officially releases a new album before Grand Theft Auto VI is officially released in the US. Otherwise, this market will resolve to "No".

If neither occurs by July 31, 2026, 11:59 PM ET, this market will resolve to 50-50.

For the purposes of this market, "release" refers to the game becoming publicly available for purchase or download in the US. Early access, beta versions, other forms of pre-release availability, or leaks will not count as an official release. If the release is only for certain consoles (e.g. Xbox Series X/S) it will count.

The resolution source for the release of GTA VI is official information from Rockstar Games or its parent company, Take-Two Interactive.

Officially released means that a newly released album is officially available for download or streaming (not including live events) by the resolution date.

Re-releases, deluxe editions, compilations, or greatest hits albums will not count, unless they contain at least 50% tracks that have never been officially released in any format prior to the album''s release.

The resolution source for the album release will be any official streaming or download site, e.g. Apple Music or Spotify.',"status"='active' WHERE "id" = 24

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.535ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Will Trump deport less than 250,000?' AND category = 'Crypto' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.505ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='During the 2024 FY ICE removed 271,484 non citizens (see: https://www.ice.gov/doclib/eoy/iceAnnualReportFY2024.pdf).

This market will resolve to "Yes" if U.S. Immigration and Customs Enforcement (ICE) removes less than 250,000 non citizens in the 2025 fiscal year. Otherwise, this market ill resolve to "No".

The resolution source will be the FY 2025 ICE Annual Report. If the FY 2025 ICE Annual Report is not published by February 28, 2026, 11:59 PM ET, another credible resolution source will be used. ',"status"='active' WHERE "id" = 29
2026/01/27 18:30:06 Successfully stored 10 markets for category Crypto

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'New Playboi Carti Album before GTA VI?' AND category = 'Sports' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.536ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve to "Yes" if Playboi Carti officially releases a new album before Grand Theft Auto VI is officially released in the US. Otherwise, this market will resolve to "No".

If neither occurs by July 31, 2026, 11:59 PM ET, this market will resolve to 50-50.

For the purposes of this market, "release" refers to the game becoming publicly available for purchase or download in the US. Early access, beta versions, other forms of pre-release availability, or leaks will not count as an official release. If the release is only for certain consoles (e.g. Xbox Series X/S) it will count.

The resolution source for the release of GTA VI is official information from Rockstar Games or its parent company, Take-Two Interactive.

Officially released means that a newly released album is officially available for download or streaming (not including live events) by the resolution date.

Re-releases, deluxe editions, compilations, or greatest hits albums will not count, unless they contain at least 50% tracks that have never been officially released in any format prior to the album''s release.

The resolution source for the album release will be any official streaming or download site, e.g. Apple Music or Spotify.',"status"='active' WHERE "id" = 27

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:113
[0m[33m[0.000ms] [34;1m[rows:1][0m SELECT * FROM "markets" WHERE title = 'Trump out as President before GTA VI?' AND category = 'Sports' ORDER BY "markets"."id" LIMIT 1

2026/01/27 18:30:06 [32mC:/Users/mormeli/.gemini/antigravity/scratch/prediction-market/internal/services/market_parser.go:115
[0m[33m[0.552ms] [34;1m[rows:1][0m UPDATE "markets" SET "description"='This market will resolve to "Yes" if Donald Trump ceases to be the President of the U.S. for any period of time before Grand Theft Auto VI is officially released in the US. Otherwise, this market will resolve to "No".

If neither occurs by July 31, 2026, 11:59 PM ET, this market will resolve to 50-50.

For the purposes of this market, "release" refers to the game becoming publicly available for purchase or download in the US. Early access, beta versions, other forms of pre-release availability, or leaks will not count as an official release. If the release is only for certain consoles (e.g. Xbox Series X/S) it will count.

The resolution source for the release of GTA VI is official information from Rockstar Games or its parent company, Take-Two Interactive.

An announcement of Trump''s resignation/removal, or a scheduled departure from office due to the outcome of an election will not alone qualify.

Only permanent removal from office will qualify for resolution. Temporary removals, such as temporary invocation of the 25th Amendment, will not count.

The resolution source for Trump leaving the presidency will be a consensus of credible reporting.
',"status"='active' WHERE "id" = 30
2026/01/27 18:30:06 Successfully stored 10 markets for category Sports
2026/01/27 18:30:06 Market parsing completed successfully
[GIN] 2026/01/27 - 18:30:19 | 200 |            0s |             ::1 | GET      "/health"
2026/01/27 18:30:30 Login request received from: 194.48.140.3
2026/01/27 18:30:30 Initiating OAuth flow with provider: twitterv2, URL: /auth/login?provider=twitterv2
[GIN] 2026/01/27 - 18:30:32 | 400 |    1.4167255s |    194.48.140.3 | GET      "/auth/login"
2026/01/27 18:49:47 Login request received from: 194.48.140.3
2026/01/27 18:49:47 Initiating OAuth flow with provider: twitterv2, URL: /auth/login?provider=twitterv2
[GIN] 2026/01/27 - 18:49:47 | 400 |    362.8448ms |    194.48.140.3 | GET      "/auth/login"
2026/01/27 18:49:51 Login request received from: 194.48.140.3
2026/01/27 18:49:51 Initiating OAuth flow with provider: twitterv2, URL: /auth/login?provider=twitterv2
[GIN] 2026/01/27 - 18:49:51 | 400 |    169.6834ms |    194.48.140.3 | GET      "/auth/login"
2026/01/27 18:49:54 Login request received from: 194.48.140.3
2026/01/27 18:49:54 Initiating OAuth flow with provider: twitterv2, URL: /auth/login?provider=twitterv2
[GIN] 2026/01/27 - 18:49:54 | 400 |    196.3662ms |    194.48.140.3 | GET      "/auth/login"
2026/01/27 18:52:32 Login request received from: 194.48.140.3
2026/01/27 18:52:32 Initiating OAuth flow with provider: twitterv2, URL: /auth/login?provider=twitterv2
[GIN] 2026/01/27 - 18:52:33 | 400 |    388.3087ms |    194.48.140.3 | GET      "/auth/login"
